<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro - Tienda MiMascota</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../css/styles.css" />
  </head>
  <body>
    <header class="bg-primary text-white py-3 mb-4">
      <div class="container d-flex justify-content-between align-items-center">
        <a href="../../index.html" class="text-white text-decoration-none">
          <h1 class="h5 mb-0">ğŸ¾ Tienda MiMascota</h1>
        </a>
        <nav>
          <a href="../../index.html" class="text-white me-3">Productos</a>
          <a href="../content/blog-articulos.html" class="text-white me-3">Blog</a>
          <a href="../content/acerca-de-nosotros.html" class="text-white me-3">Nosotros</a>
          <a href="../content/formulario-contacto.html" class="text-white me-3">Contacto</a>
          <a href="registro-usuario.html" class="text-white me-3">Registrarse</a>
          <a href="iniciar-sesion.html" class="text-white me-3">Iniciar sesiÃ³n</a>
        </nav>
      </div>
    </header>

    <main class="container mb-5">
      <div class="row justify-content-center">
        <div class="col-12 col-md-6 col-lg-5">
          <div class="card p-4">
            <h2 class="h4 mb-4 text-center">ğŸ“‹ Crear Cuenta</h2>
            
            <form id="registroForm">
              <!-- Nombre -->
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre completo *</label>
                <input
                  type="text"
                  id="nombre"
                  class="form-control"
                  required
                  placeholder="Ingresa tu nombre completo"
                />
              </div>

              <!-- Email -->
              <div class="mb-3">
                <label for="email" class="form-label">Email *</label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  required
                  placeholder="ejemplo@duoc.cl"
                  oninput="mostrarAyudaRol()"
                />
                <div id="ayudaRol" class="mt-2">
                  <small class="text-muted">
                    ğŸ’¡ <strong>Roles automÃ¡ticos segÃºn email:</strong><br>
                    ğŸ›¡ï¸ <code>admin@duoc.cl</code> = Administrador<br>
                    ğŸ’¼ <code>vendedor@duoc.cl</code> = Vendedor<br>
                    ğŸ‘¤ Otros emails = Cliente
                  </small>
                </div>
              </div>

              <!-- ContraseÃ±a -->
              <div class="mb-4">
                <label for="password" class="form-label">ContraseÃ±a *</label>
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  required
                  placeholder="Entre 4 y 10 caracteres"
                />
              </div>

              <!-- BotÃ³n de registro -->
              <div class="d-grid mb-3">
                <button type="button" class="btn btn-primary btn-lg" onclick="registrarUsuario()">
                  ğŸ“ Crear Cuenta
                </button>
              </div>

              <div class="text-center">
                <small>Â¿Ya tienes cuenta? <a href="iniciar-sesion.html">Inicia sesiÃ³n aquÃ­</a></small>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>

    <footer class="bg-dark text-white py-4 mt-5">
      <div class="container text-center">
        <p>&copy; 2023 Tienda MiMascota - Todo para tu mejor amigo</p>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/utils/utilidades.js"></script>
    <script src="../../js/auth/funciones-principales.js"></script>
    
    <script>
      // FunciÃ³n para mostrar ayuda de rol segÃºn el email (para principiantes)
      function mostrarAyudaRol() {
        var email = document.getElementById('email').value;
        var ayuda = document.getElementById('ayudaRol');
        
        if (email === 'admin@duoc.cl') {
          ayuda.innerHTML = '<small class="text-success"><strong>ğŸ›¡ï¸ Rol: ADMINISTRADOR</strong> - Acceso completo al sistema</small>';
        } else if (email.includes('vendedor') && email.endsWith('@duoc.cl')) {
          ayuda.innerHTML = '<small class="text-info"><strong>ğŸ’¼ Rol: VENDEDOR</strong> - Acceso a productos y Ã³rdenes (solo lectura)</small>';
        } else if (email.length > 0) {
          ayuda.innerHTML = '<small class="text-primary"><strong>ğŸ‘¤ Rol: CLIENTE</strong> - Acceso a la tienda pÃºblica</small>';
        } else {
          ayuda.innerHTML = '<small class="text-muted">ğŸ’¡ <strong>Roles automÃ¡ticos segÃºn email:</strong><br>ğŸ›¡ï¸ <code>admin@duoc.cl</code> = Administrador<br>ğŸ’¼ <code>vendedor@duoc.cl</code> = Vendedor<br>ğŸ‘¤ Otros emails = Cliente</small>';
        }
      }
    </script>
  </body>
</html>
